{%- include snippets/get-sources.html -%}
{%- assign _sources = __return -%}

{%- include snippets/assign.html target=site.data.variables.default.mathjax_autoNumber
  source0=site.mathjax_autoNumber source1=page.mathjax_autoNumber -%}
{%- assign _mathjax_autoNumber = __return -%}

<script>
  window.MathJax = {
    loader: {
      load: ['[tex]/ams','[tex]/boldsymbol','[tex]/bboldx','[tex]/cancel','[tex]/extpfeil','[tex]/cases','[tex]/newcommand','[tex]/empheq','a11y/semantic-enrich', 'a11y/speech', 'a11y/explorer']
    },
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      {% if _mathjax_autoNumber == true %}
      tags: "ams", //Not "all", as configured before
      {% endif %}
      packages: {'[+]': ['ams', 'boldsymbol', 'bboldx', 'cancel', 'cases', 'empheq', 'newcommand', 'extpfeil']},
      bboldx: {
        bfbb: false,
        light: false
      }
    }, //The following are new options in v. 4, disable if using v.3
    options: {
      enableEnrichment: true,   // false to disable accesibility enrichment
      enrichError: (doc, math, err) => doc.enrichError(doc, math, err),  // function to call if enrichment fails
      enableSpeech: true,       // false to disable speech strings
      enableBraille: true,      // false to disable Braille notation
      enableMenu: true,
      menuOptions: {
        settings: {
          overflow: 'Scroll',
          enrich: false,         // true to enable semantic-enrichment
          collapsible: false,   // true to enable collapsible math
          speech: true,         // true to enable speech generation
          braille: true,        // true to enable Braille generation
          assistiveMml: false,  // true to enable assistive MathML
        },
        annotationTypes: {
          TeX: ['TeX', 'LaTeX', 'application/x-tex'],
          StarMath: ['StarMath 5.0'],
          Maple: ['Maple'],
          ContentMathML: ['MathML-Content', 'application/mathml-content+xml'],
          OpenMath: ['OpenMath']
        }
      }
    },
    output: {
      font: 'mathjax-tex', // Options: mathjax-modern (default), mathjax-asana, mathjax-bonum, mathjax-dejavu, mathjax-pagella, mathjax-schola, mathjax-termes, mathjax-stix2, mathjax-fira, mathjax-euler, mathjax-tex
      displayOverflow: 'scroll', // Can be: scroll/scale/truncate/elide/linebreak/overflow
    }
  };
</script>
<script type="text/javascript" src="{{ _sources.mathjax }}" async></script>